/* This file was generated by ODB, object-relational mapping (ORM)
 * compiler for C++.
 */

IF OBJECT_ID('inverse_employee_projects', 'U') IS NOT NULL
  DROP TABLE [inverse_employee_projects];
GO

IF OBJECT_ID('inverse_employee', 'U') IS NOT NULL
  DROP TABLE [inverse_employee];
GO

IF OBJECT_ID('inverse_project', 'U') IS NOT NULL
  DROP TABLE [inverse_project];
GO

IF OBJECT_ID('inverse_position', 'U') IS NOT NULL
  DROP TABLE [inverse_position];
GO

IF OBJECT_ID('inverse_employer', 'U') IS NOT NULL
  DROP TABLE [inverse_employer];
GO

CREATE TABLE [inverse_employer] (
  [name] VARCHAR(256) NOT NULL PRIMARY KEY);
GO

CREATE TABLE [inverse_position] (
  [id] BIGINT NOT NULL PRIMARY KEY IDENTITY,
  [title] VARCHAR(512) NOT NULL);
GO

CREATE TABLE [inverse_project] (
  [name] VARCHAR(256) NOT NULL PRIMARY KEY);
GO

CREATE TABLE [inverse_employee] (
  [id] BIGINT NOT NULL PRIMARY KEY IDENTITY,
  [first] VARCHAR(512) NOT NULL,
  [last] VARCHAR(512) NOT NULL,
  [employer] VARCHAR(256) NOT NULL,
  [position] BIGINT NOT NULL
  /*
  CONSTRAINT [inverse_employee_employer_fk]
    FOREIGN KEY ([employer])
    REFERENCES [inverse_employer] ([name])
  */
  /*
  CONSTRAINT [inverse_employee_position_fk]
    FOREIGN KEY ([position])
    REFERENCES [inverse_position] ([id])
  */);
GO

CREATE TABLE [inverse_employee_projects] (
  [object_id] BIGINT NOT NULL,
  [value] VARCHAR(256) NOT NULL,
  CONSTRAINT [inverse_employee_projects_object_id_fk]
    FOREIGN KEY ([object_id])
    REFERENCES [inverse_employee] ([id])
    ON DELETE CASCADE
  /*
  CONSTRAINT [inverse_employee_projects_value_fk]
    FOREIGN KEY ([value])
    REFERENCES [inverse_project] ([name])
  */);
GO

CREATE INDEX [object_id_i]
  ON [inverse_employee_projects] ([object_id]);
GO

